<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pizza Time - Tuy Hoa</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800">
<header class="bg-green-600 text-white p-4 text-center shadow flex items-center justify-center space-x-3">
  <img src="https://raw.githubusercontent.com/PizzaBo93/pizzatime/main/logo.jpg" alt="Logo PizzaBo"class="h-20 w-20 rounded-full">
  <h1 class="text-2xl font-bold">Pizza Time - Tuy Hoa</h1>
</header>

  <div class="max-w-4xl mx-auto">
    <div id="category-tabs" class="flex flex-wrap justify-between gap-2 p-2 border-b text-sm sm:text-base font-medium">
        <button class="tab flex-1 min-w-[45%] py-2 px-3 text-center border rounded-md bg-white hover:bg-green-50 active" data-category="Pizza S">Pizza Size S</button>
        <button class="tab flex-1 min-w-[45%] py-2 px-3 text-center border rounded-md bg-white hover:bg-green-50" data-category="Pizza L">Pizza Size L</button>
        <button class="tab flex-1 min-w-[45%] py-2 px-3 text-center border rounded-md bg-white hover:bg-green-50" data-category="M√≥n ƒÉn nh·∫π">M√≥n ƒÉn nh·∫π</button>
        <button class="tab flex-1 min-w-[45%] py-2 px-3 text-center border rounded-md bg-white hover:bg-green-50" data-category="N∆∞·ªõc">N∆∞·ªõc</button>
    </div>

    <div id="menu-container" class="p-4 grid grid-cols-1 sm:grid-cols-2 gap-4"></div>

    <div class="p-4 border bg-white rounded-md mt-6 shadow">
      <h2 class="text-xl font-semibold mb-3">Gi·ªè h√†ng (<span id="cart-count">0</span> m√≥n)</h2>
      <div id="cart-items" class="space-y-3 max-h-48 overflow-y-auto"></div>
      <div class="flex justify-between font-semibold text-lg my-4">
        <span>T·ªïng ti·ªÅn:</span>
        <span class="text-green-600" id="cart-total">0ƒë</span>
      </div>
    </div>

    <div class="border-t bg-white p-4 mt-6 rounded-md shadow">
        <h2 class="text-lg font-semibold mb-2">Th√¥ng tin kh√°ch h√†ng</h2>
        <input id="customer-name" type="text" placeholder="H·ªç v√† t√™n" class="w-full mb-3 px-4 py-2 border rounded" required>
        <input id="customer-phone" type="tel" placeholder="S·ªë ƒëi·ªán tho·∫°i" class="w-full mb-3 px-4 py-2 border rounded" required>
        <input id="customer-address" type="text" placeholder="ƒê·ªãa ch·ªâ giao h√†ng" class="w-full mb-3 px-4 py-2 border rounded" required>
        <textarea id="customer-note" placeholder="Ghi ch√∫ (kh√¥ng b·∫Øt bu·ªôc)" class="w-full mb-3 px-4 py-2 border rounded h-24 resize-none"></textarea>
        
        <button id="place-order" class="w-full py-3 bg-green-600 text-white rounded-md font-semibold hover:bg-green-700 transition">ƒê·∫∑t h√†ng</button>
    </div>

    <div id="order-summary" class="hidden bg-white border rounded p-4 mt-4 shadow">
      <h2 class="text-xl font-bold text-green-600 mb-2">C·∫£m ∆°n b·∫°n ƒë√£ ƒë·∫∑t h√†ng!</h2>
      <p class="mb-2">Th√¥ng tin ƒë∆°n h√†ng:</p>
      <div id="order-detail" class="text-sm text-gray-700 space-y-1"></div>
    </div>
  </div>

  <script>
      const pizzaMenu = [
  // --- Pizza Size S ---
  { id: 1, name: "B√≤ (Size S)", price: 45000, category: "Pizza S", image: "images/Beef-resize.jpg" },
  { id: 2, name: "Ph√¥ mai (Size S)", price: 45000, category: "Pizza S", image: "/api/placeholder/200/150" },
  { id: 3, name: "G√† teriyaki (Size S)", price: 45000, category: "Pizza S", image: "/api/placeholder/200/150" },
  { id: 4, name: "X√∫c x√≠ch heo (Size S)", price: 45000, category: "Pizza S", image: "/api/placeholder/200/150" },
  { id: 5, name: "C√° ng·ª´ (Size S)", price: 45000, category: "Pizza S", image: "/api/placeholder/200/150" },
  { id: 6, name: "Ba r·ªçi x√¥ng kh√≥i (Size S)", price: 45000, category: "Pizza S", image: "/api/placeholder/200/150" },

  // --- Pizza Size L ---
  { id: 7, name: "B√≤ (Size L)", price: 99000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 8, name: "Ph√¥ mai (Size L)", price: 89000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 9, name: "G√† teriyaki (Size L)", price: 89000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 10, name: "H·∫£i s·∫£n (Size L)", price: 99000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 11, name: "X√∫c x√≠ch heo (Size L)", price: 89000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 12, name: "Pizza n·∫•m rau c·ªß (Size L)", price: 89000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 13, name: "X√∫c x√≠ch ƒê·ª©c (Size L)", price: 99000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 14, name: "C√° ng·ª´ (Size L)", price: 89000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 15, name: "Ba r·ªçi x√¥ng kh√≥i (Size L)", price: 89000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 16, name: "Salami", price: 109000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 17, name: "Ph√¥ mai t∆∞∆°i", price: 99000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 18, name: "Meat Lover's", price: 119000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 19, name: "T√¥m thanh cua", price: 99000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 20, name: "Kh√¥ G√† - L·∫°p X∆∞·ªüng", price: 99000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 21, name: "Th·∫≠p C·∫©m", price: 119000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 22, name: "B√≤ s·ªët cay", price: 119000, category: "Pizza L", image: "/api/placeholder/200/150" },
  { id: 23, name: "H·∫£i s·∫£n ƒë·∫∑c bi·ªát", price: 109000, category: "Pizza L", image: "/api/placeholder/200/150" },

  // --- M√≥n ƒÉn nh·∫π ---
  { id: 24, name: "G√† S·ªët Cay", price: 29000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 25, name: "Khoai t√¢y chi√™n (nh·ªè)", price: 20000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 26, name: "Khoai t√¢y chi√™n (l·ªõn)", price: 35000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 27, name: "Tok L·∫Øc Ph√¥ Mai", price: 20000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 28, name: "B√°nh M√¨ B∆° T·ªèi", price: 19000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 29, name: "G√† l·∫Øc ph√¥ mai cay (nh·ªè)", price: 25000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 30, name: "G√† l·∫Øc ph√¥ mai cay (l·ªõn)", price: 45000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 31, name: "G√† r√°n chi√™n gi√≤n (nh·ªè)", price: 25000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 32, name: "G√† r√°n chi√™n gi√≤n (l·ªõn)", price: 30000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 33, name: "M√¨ √ù ƒë√∫t l√≤", price: 59000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 34, name: "M√¨ √ù s·ªët b√≤ b·∫±m", price: 39000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 35, name: "Salad C√° Ng·ª´", price: 39000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 36, name: "Salad d·∫ßu gi·∫•m", price: 35000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 37, name: "B√°nh m√¨ ph√¥ mai", price: 35000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },
  { id: 38, name: "B·∫Øp Ph√¥ Mai", price: 39000, category: "M√≥n ƒÉn nh·∫π", image: "/api/placeholder/200/150" },

  // --- N∆∞·ªõc u·ªëng ---
  { id: 39, name: "N∆∞·ªõc ng·ªçt (ly)", price: 9000, category: "N∆∞·ªõc", image: "/api/placeholder/200/150" },
  { id: 40, name: "N∆∞·ªõc ng·ªçt (lon)", price: 15000, category: "N∆∞·ªõc", image: "/api/placeholder/200/150" },
  { id: 41, name: "N∆∞·ªõc su·ªëi", price: 9000, category: "N∆∞·ªõc", image: "/api/placeholder/200/150" },
  { id: 42, name: "Local Beer", price: 15000, category: "N∆∞·ªõc", image: "/api/placeholder/200/150" },
  { id: 43, name: "ƒê√° me h·∫°t m·ªÅm", price: 15000, category: "N∆∞·ªõc", image: "/api/placeholder/200/150" },
  { id: 44, name: "Tr√† Chanh", price: 15000, category: "N∆∞·ªõc", image: "/api/placeholder/200/150" },
  { id: 45, name: "Tr√† ƒê√†o", price: 20000, category: "N∆∞·ªõc", image: "/api/placeholder/200/150" },
  { id: 46, name: "Tr√† s·ªØa Th√°i", price: 20000, category: "N∆∞·ªõc", image: "/api/placeholder/200/150" }
];


    let cart = [];
    let currentCategory = 'Pizza S';

    function formatPrice(price) {
      return price.toLocaleString('vi-VN') + 'ƒë';
    }

    function renderMenu() {
      const container = document.getElementById('menu-container');
      container.innerHTML = '';
      const items = pizzaMenu.filter(p => p.category === currentCategory);
      items.forEach(item => {
        const div = document.createElement('div');
        div.className = "border rounded-lg shadow-sm bg-white hover:shadow-md transition overflow-hidden";
        div.innerHTML = `
          <div class="relative h-32 overflow-hidden bg-gray-100">
            <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover">
          </div>
          <div class="p-3">
            <h3 class="font-bold text-lg">${item.name}</h3>
            <p class="text-green-600 font-medium">${formatPrice(item.price)}</p>
            <button data-id="${item.id}" class="add-to-cart mt-2 w-full py-2 bg-green-600 text-white rounded hover:bg-green-700 transition flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
              </svg>
              Th√™m v√†o gi·ªè
            </button>
          </div>
        `;
        container.appendChild(div);
      });

      document.querySelectorAll('.add-to-cart').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = parseInt(btn.dataset.id);
          const product = pizzaMenu.find(p => p.id === id);
          const existing = cart.find(i => i.id === id);
          if (existing) existing.quantity += 1;
          else cart.push({ ...product, quantity: 1 });
          renderCart();
          
          // Hi·ªáu ·ª©ng th√™m v√†o gi·ªè h√†ng
          btn.classList.add('bg-green-800');
          setTimeout(() => {
            btn.classList.remove('bg-green-800');
          }, 300);
        });
      });
    }

    function renderCart() {
      const container = document.getElementById('cart-items');
      const count = document.getElementById('cart-count');
      const total = document.getElementById('cart-total');
      container.innerHTML = '';

      let totalCount = 0;
      let totalPrice = 0;

      if (cart.length === 0) {
        container.innerHTML = '<p class="text-gray-500 text-center py-3">Gi·ªè h√†ng tr·ªëng</p>';
      } else {
        cart.forEach(item => {
          totalCount += item.quantity;
          totalPrice += item.quantity * item.price;
          const div = document.createElement('div');
          div.className = "flex justify-between items-center border-b pb-2";
          div.innerHTML = `
            <div class="flex items-center">
              <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded mr-2">
              <div>
                <h4 class="font-medium">${item.name}</h4>
                <p class="text-sm text-gray-600">${formatPrice(item.price)} x ${item.quantity}</p>
              </div>
            </div>
            <div class="flex space-x-2 items-center">
              <button class="decrease w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-100" data-id="${item.id}">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                </svg>
              </button>
              <span class="w-4 text-center">${item.quantity}</span>
              <button class="increase w-8 h-8 rounded-full border flex items-center justify-center bg-green-600 text-white hover:bg-green-700" data-id="${item.id}">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                </svg>
              </button>
            </div>
          `;
          container.appendChild(div);
        });
      }

      count.textContent = totalCount;
      total.textContent = formatPrice(totalPrice);

      document.querySelectorAll('.increase').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = parseInt(btn.dataset.id);
          const item = cart.find(i => i.id === id);
          item.quantity += 1;
          renderCart();
        });
      });

      document.querySelectorAll('.decrease').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = parseInt(btn.dataset.id);
          const item = cart.find(i => i.id === id);
          if (item.quantity === 1) cart = cart.filter(i => i.id !== id);
          else item.quantity -= 1;
          renderCart();
        });
      });
    }

    document.querySelectorAll('.tab').forEach(btn => {
      btn.addEventListener('click', () => {
        currentCategory = btn.dataset.category;
        document.querySelectorAll('.tab').forEach(b => {
          b.classList.remove('active', 'text-green-600', 'border-green-600');
          b.classList.add('bg-white');
        });
        btn.classList.add('active', 'text-green-600', 'border-green-600');
        btn.classList.remove('bg-white');
        btn.classList.add('bg-green-50');
        renderMenu();
      });
    });

    function sendTelegramMessage(message) {
      const botToken = '7998294485:AAFTYXovQjyx0uKFJsgM4zQfJ8LFRxzqsfg';
      const chatId = '-1002687702091';

      fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          chat_id: chatId,
          text: message
        })
      })
      .then(response => response.json())
      .then(data => {
        console.log("K·∫øt qu·∫£ t·ª´ Telegram:", data);
        if (data.ok) {
          showOrderConfirmation();
        } else {
          alert("‚ùå G·ª≠i kh√¥ng th√†nh c√¥ng: " + data.description);
        }
      })
      .catch(error => {
        console.error("L·ªói khi g·ª≠i Telegram:", error);
        alert("C√≥ l·ªói khi g·ª≠i ƒë∆°n h√†ng.");
      });
    }

    function showOrderConfirmation() {
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
      modal.innerHTML = `
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
          <div class="text-center">
            <svg class="mx-auto h-12 w-12 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <h3 class="text-lg font-medium text-gray-900 mt-2">ƒê·∫∑t h√†ng th√†nh c√¥ng!</h3>
            <p class="mt-1 text-sm text-gray-500">T·ª•i m√¨nh s·∫Ω g·ªçi l·∫°i x√°c nh·∫≠n ƒë∆°n trong v√†i ph√∫t nh√©!</p>
            <div class="mt-4">
              <button id="close-modal" class="inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500">
                ƒê√≥ng
              </button>
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      
      document.getElementById('close-modal').addEventListener('click', () => {
        document.body.removeChild(modal);
        // Reset cart
        cart = [];
        renderCart();
        // Reset form
        document.getElementById('customer-name').value = '';
        document.getElementById('customer-phone').value = '';
        document.getElementById('customer-address').value = '';
        document.getElementById('customer-note').value = '';
      });
    }

    document.getElementById('place-order').addEventListener('click', () => {
      const name = document.getElementById('customer-name').value.trim();
      const phone = document.getElementById('customer-phone').value.trim();
      const address = document.getElementById('customer-address').value.trim();
      const note = document.getElementById('customer-note').value.trim();

      if (!name || !phone || !address) {
        alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin kh√°ch h√†ng!");
        return;
      }

      if (cart.length === 0) {
        alert("Vui l√≤ng th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng!");
        return;
      }

      // So·∫°n n·ªôi dung tin nh·∫Øn
      let message = `üõí ƒê∆†N H√ÄNG M·ªöI\nüë§ Kh√°ch: ${name}\nüìû SƒêT: ${phone}\nüè† ƒê·ªãa ch·ªâ: ${address}\nüìù Ghi ch√∫: ${note || "Kh√¥ng c√≥"}\n\nüì¶ M√≥n ƒë·∫∑t:\n`;
      let total = 0;
      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        message += `üçï ${item.name} x${item.quantity} = ${itemTotal/1000}k\n`;
        total += itemTotal;
      });
      message += `\nüí∞ T·ªïng c·ªông: ${total/1000}k`;

      // G·ª≠i v·ªÅ Telegram
      sendTelegramMessage(message);
    });

    // Auto-select the first tab on load
    document.querySelector('.tab[data-category="Pizza S"]').classList.add('active', 'text-green-600', 'border-green-600', 'bg-green-50');
    renderMenu();
    renderCart();
  </script>

</body>
</html>
